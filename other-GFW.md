---
title: 墙
---
## 中国防火长城
> GFW，即Great Wall of China, 中国防火长城的简称，是中国政府过滤和监控互联网的一套软硬件系统,限制国内外的站点访问

GFW 的工作机制可能主要包括 IP 黑名单、内容审查和 DNS 劫持等三种
### DNS劫持
> 即是DNS查询没有得到正确的解析，以致引导user访问到恶意的网站，从而窃取用户隐私，或者进行某些恶意的操作

#### 本机DNS劫持
攻击者通过某些手段使用户的计算机感染上木马病毒，或者恶意软件之后，恶意修改本地DNS配置，比如修改本地hosts文件，缓存等
#### 路由劫持
很多用户默认路由器的默认密码，攻击者可以侵入到路由管理员账号中，修改路由器的默认配置

#### 攻击DNS服务器
直接攻击DNS服务器，例如对DNS服务器进行DDOS攻击，可以是DNS服务器宕机，出现异常请求，还可以利用某些手段感染dns服务器的缓存，使给用户返回来的是恶意的ip地址

#### 解决方案
1. 加强本地计算机病毒检查，开启防火墙等，防止恶意软件，木马病毒感染计算机
2. 改变路由器默认密码，防止攻击者修改路由器的DNS配置指向恶意的DNS服务器
3. 企业的话可以准备两个以上的域名，一旦一个域名挂掉，还可以使用另一个

## hosts 基础
> hosts 相当于 本地自己手动配置的DNS,优先级高于外部DNS
> window 位置: C:\Windows\System32\drivers\etc\hosts
> linux 位置: /etc/hosts
> win+R 调出运行栏: C:\windows\system32\drivers\etc 直接打开这个文件夹
> 解析顺序:用户浏览器缓存>hosts>DNS服务商

---
localhost是一个域名，Windows系统中，约定127.0.0.1为本地IP地址

+ 作用就是将一些常用的网址域名与其对应的IP地址建立一个关联"电话本"
+ 当用户在浏览器中输入一个需要登录的网址时，系统会首先自动从Hosts文件中寻找对应的IP地址,看看是否有这个域名和IP的映射关系,一旦找到，IP地址指定的网络位置,系统会立即打开对应网页
+ 如果没有找到，则系统会再将网址提交DNS域名解析服务器进行IP地址的解析。
+ Hosts文件配置的映射是静态的，如果设置的服务器IP发送改变，需要及时更新IP地址，否则将不能访问

### 屏蔽网站
> 对于一些弹窗类的垃圾网站，我们可以利用Hosts把该网站的域名映射到错误的IP或本地计算机的IP，这样就不用访问了。在WINDOWS系统中，约定 0.0.0.0是错误的IP地址。


```shell
0.0.0.0  垃圾网站域名
```
### 数据库连接系统
一些数据库服务器，在访问时如果直接输入IP地址是不能访问的，只能输入服务器名才能访问。那么我们配置好Hosts文件，这样输入服务器名就能顺利连接了。


### xxx.github.io 无法访问
> 一些 xxx.github.io 无法访问 可以找到网络-属性-ip4手动设置dns服务器地址 114.114.114.114
